//      

const { cyan, green, magenta } = require('chalk')
const Formatter = require('./formatter')

class DotFormatter extends Formatter {
  // A minimalistic formatter, prints dots for each check

  error (errorMessage        ) {
    super.error(errorMessage)
    var output = ''
    if (this.filePath) output += this.filePath
    if (this.startLine) output += `:${this.startLine}`
    if (this.endLine && this.endLine !== this.startLine) { output += `-${this.endLine}` }
    if (this.filePath) output += ' -- '
    output += errorMessage
    console.log(output)
  }

  output (text                 )          {
    return false
  }

  success (activityText         ) {
    super.success(activityText)
    process.stdout.write(green('.'))
  }

  warning (warningMessage        ) {
    super.warning(warningMessage)
    process.stdout.write(magenta('.'))
  }

  skip (activity        ) {
    super.skip(activity)
    process.stdout.write(cyan('.'))
  }
}

module.exports = DotFormatter
